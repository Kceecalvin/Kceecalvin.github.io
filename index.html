<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kencalvin Mwenda | 3D Portfolio</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- GSAP for advanced animations -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        /* Custom styles for the portfolio */
        html { scroll-behavior: smooth; }
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0a0a0a;
            color: #e5e7eb;
            overflow-x: hidden;
            cursor: none; /* Hide default cursor */
        }
        
        /* --- Preloader --- */
        #preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #0a0a0a;
            z-index: 10000;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 1;
            transition: opacity 0.5s ease-out;
        }
        #preloader.hidden { pointer-events: none; opacity: 0; }
        #preloader-text {
            font-size: 2rem;
            font-weight: 900;
            color: white;
            letter-spacing: 0.1em;
        }

        /* --- Custom Cursor --- */
        #cursor-dot, #cursor-outline {
            position: fixed;
            top: 0;
            left: 0;
            pointer-events: none;
            z-index: 9999;
            border-radius: 50%;
            mix-blend-mode: difference;
        }
        #cursor-dot {
            width: 8px;
            height: 8px;
            background-color: white;
            transform: translate(-50%, -50%);
        }
        #cursor-outline {
            width: 40px;
            height: 40px;
            border: 2px solid white;
            transform: translate(-50%, -50%);
        }
        
        #bg-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        /* Custom glassmorphism effect */
        .glass-card {
            background: rgba(17, 24, 39, 0.5);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* Custom scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #111827; }
        ::-webkit-scrollbar-thumb { background: #4f46e5; border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #6366f1; }
        
        /* Section heading animation */
        .section-heading { position: relative; display: inline-block; }
        .section-heading::after {
            content: ''; position: absolute; width: 100%; transform: scaleX(0); height: 3px;
            bottom: -5px; left: 0; background-color: #4f46e5; transform-origin: bottom right;
            transition: transform 0.3s ease-out;
        }
        .section-heading:hover::after { transform: scaleX(1); transform-origin: bottom left; }

        /* Typing Effect */
        #hero-subtitle .typing-cursor {
            display: inline-block; width: 2px; height: 1.5rem; background-color: #6366f1;
            animation: blink 0.7s infinite; margin-left: 4px; vertical-align: middle;
        }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

        /* Scroll Animations */
        .scroll-animate { opacity: 0; transform: translateY(30px); transition: opacity 0.6s ease-out, transform 0.6s ease-out; }
        .scroll-animate.is-visible { opacity: 1; transform: translateY(0); }
        .delay-1 { transition-delay: 0.1s; } .delay-2 { transition-delay: 0.2s; } .delay-3 { transition-delay: 0.3s; }
        
        /* 3D Card Tilt Effect */
        .project-card { transform-style: preserve-3d; transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); }

        /* Project Modal */
        #project-modal {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 50;
            display: flex; justify-content: center; align-items: center;
            background-color: rgba(0,0,0,0.7);
            opacity: 0; pointer-events: none;
            transition: opacity 0.3s ease-in-out;
        }
        #project-modal.visible { opacity: 1; pointer-events: auto; }
        
        /* Contact Form */
        .form-input {
            background-color: rgba(31, 41, 55, 0.5); border: 1px solid rgba(255, 255, 255, 0.1);
            color: #e5e7eb; border-radius: 0.5rem; padding: 0.75rem 1rem;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        .form-input:focus {
            outline: none; border-color: #4f46e5;
            box-shadow: 0 0 0 2px rgba(79, 70, 229, 0.5);
        }
    </style>
</head>
<body class="antialiased">

    <!-- Preloader -->
    <div id="preloader">
        <div id="preloader-text">KENCALVIN</div>
    </div>
    
    <!-- Custom Cursor -->
    <div id="cursor-dot"></div>
    <div id="cursor-outline"></div>

    <!-- The 3D background canvas -->
    <canvas id="bg-canvas"></canvas>

    <!-- Header & Navigation -->
    <header class="fixed top-0 left-0 right-0 z-10 glass-card shadow-lg">
        <div class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="text-2xl font-bold text-white hover:text-indigo-400 transition-colors duration-300" data-magnetic>Kencalvin</a>
            <nav class="hidden md:flex space-x-8">
                <a href="#about" class="text-gray-300 hover:text-indigo-400 transition-colors duration-300" data-magnetic>About</a>
                <a href="#projects" class="text-gray-300 hover:text-indigo-400 transition-colors duration-300" data-magnetic>Projects</a>
                <a href="#skills" class="text-gray-300 hover:text-indigo-400 transition-colors duration-300" data-magnetic>Skills</a>
                <a href="#contact" class="text-gray-300 hover:text-indigo-400 transition-colors duration-300" data-magnetic>Contact</a>
            </nav>
            <button id="mobile-menu-button" class="md:hidden text-gray-300 focus:outline-none">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </div>
        <div id="mobile-menu" class="hidden md:hidden px-6 pt-2 pb-4 space-y-2">
            <a href="#about" class="block text-gray-300 hover:text-indigo-400 transition-colors duration-300">About</a>
            <a href="#projects" class="block text-gray-300 hover:text-indigo-400 transition-colors duration-300">Projects</a>
            <a href="#skills" class="block text-gray-300 hover:text-indigo-400 transition-colors duration-300">Skills</a>
            <a href="#contact" class="block text-gray-300 hover:text-indigo-400 transition-colors duration-300">Contact</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 z-0 opacity-0">

        <!-- Hero Section -->
        <section id="hero" class="min-h-screen flex flex-col justify-center items-start">
            <h1 class="text-5xl md:text-7xl font-black text-white uppercase tracking-wider">
                Kencalvin
            </h1>
            <p id="hero-subtitle" class="mt-4 text-xl md:text-2xl text-indigo-400 font-medium h-8"></p>
            <p class="mt-6 max-w-2xl text-lg text-gray-300">
                I build intelligent, scalable web solutions with a passion for security and artificial intelligence. My goal is to create applications that solve real-world problems.
            </p>
            <a href="#projects" class="mt-8 px-8 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-all duration-300 transform hover:scale-105 shadow-lg" data-magnetic>
                View My Work
            </a>
        </section>

        <!-- About Section -->
        <section id="about" class="py-20 my-20 scroll-animate">
            <h2 class="section-heading text-4xl font-bold mb-12 text-center">About Me</h2>
            <div class="glass-card rounded-xl p-8 md:p-12 grid grid-cols-1 md:grid-cols-3 gap-12 items-center">
                <div class="md:col-span-1 flex justify-center">
                    <img src="https://placehold.co/300x300/0a0a0a/e5e7eb?text=Kencalvin" alt="Kencalvin Mwenda" class="rounded-full w-48 h-48 md:w-64 md:h-64 object-cover border-4 border-indigo-500">
                </div>
                <div class="md:col-span-2 text-lg text-gray-300 space-y-4">
                    <p>Hello! I'm Kencalvin, a passionate software engineering student at Kirinyaga University. With two years of hands-on experience as a full-stack developer, my mission is to build solutions that make a difference.</p>
                    <p>My expertise is in backend development with PHP/Laravel and Python/Django, but I'm also proficient with front-end technologies like Node.js and Tailwind CSS. I'm currently expanding my skills into cybersecurity and advocating for the potential of Artificial Intelligence to create smarter, more efficient solutions.</p>
                    <p>When I'm not coding, I'm exploring new technologies, advocating for ethical AI, and thinking about the next problem I can solve.</p>
                </div>
            </div>
        </section>

        <!-- Projects Section -->
        <section id="projects" class="py-20 my-20 scroll-animate">
            <h2 class="section-heading text-4xl font-bold mb-12 text-center">Featured Projects</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                <!-- Project Card 1 -->
                <div class="glass-card project-card rounded-xl overflow-hidden transform transition-transform duration-300 shadow-lg scroll-animate delay-1">
                    <img src="https://placehold.co/600x400/111827/4f46e5?text=Asset+Dashboard" alt="Asset Registry Platform" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-2xl font-bold text-white mb-2">Asset Registry Platform</h3>
                        <p class="text-gray-400 mb-4">A full-stack template for managing company assets, rebuilt for my portfolio.</p>
                        <button class="project-details-btn inline-block px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-md hover:bg-indigo-700 transition-colors" data-magnetic data-project-id="1">View Details</button>
                    </div>
                </div>
                <!-- Project Card 2 -->
                <div class="glass-card project-card rounded-xl overflow-hidden transform transition-transform duration-300 shadow-lg scroll-animate delay-2">
                    <img src="https://placehold.co/600x400/111827/6366f1?text=Project+Two" alt="Project 2" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-2xl font-bold text-white mb-2">Project Two</h3>
                        <p class="text-gray-400 mb-4">A brief description of the project, highlighting its core purpose.</p>
                        <button class="project-details-btn inline-block px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-md hover:bg-indigo-700 transition-colors" data-magnetic data-project-id="2">View Details</button>
                    </div>
                </div>
                <!-- Project Card 3 -->
                <div class="glass-card project-card rounded-xl overflow-hidden transform transition-transform duration-300 shadow-lg scroll-animate delay-3">
                    <img src="https://placehold.co/600x400/111827/818cf8?text=Project+Three" alt="Project 3" class="w-full h-48 object-cover">
                    <div class="p-6">
                        <h3 class="text-2xl font-bold text-white mb-2">Project Three</h3>
                        <p class="text-gray-400 mb-4">A brief description of the project, highlighting its core purpose.</p>
                        <button class="project-details-btn inline-block px-4 py-2 bg-indigo-600 text-white text-sm font-semibold rounded-md hover:bg-indigo-700 transition-colors" data-magnetic data-project-id="3">View Details</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Skills Section -->
        <section id="skills" class="py-20 my-20 scroll-animate">
             <h2 class="section-heading text-4xl font-bold mb-12 text-center">Technical Skills</h2>
             <div class="glass-card rounded-xl p-8 md:p-12">
                <div class="flex flex-wrap justify-center items-center gap-6">
                    <!-- Skill Icons -->
                    <div class="text-center p-4 bg-gray-900 rounded-lg w-32 h-32 flex flex-col justify-center items-center transition-transform transform hover:scale-110" data-magnetic><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/php/php-original.svg" class="h-12 w-12" /><p class="mt-2 text-sm font-medium">PHP</p></div>
                    <div class="text-center p-4 bg-gray-900 rounded-lg w-32 h-32 flex flex-col justify-center items-center transition-transform transform hover:scale-110" data-magnetic><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/laravel/laravel-plain.svg" class="h-12 w-12" /><p class="mt-2 text-sm font-medium">Laravel</p></div>
                    <div class="text-center p-4 bg-gray-900 rounded-lg w-32 h-32 flex flex-col justify-center items-center transition-transform transform hover:scale-110" data-magnetic><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/python/python-original.svg" class="h-12 w-12" /><p class="mt-2 text-sm font-medium">Python</p></div>
                    <div class="text-center p-4 bg-gray-900 rounded-lg w-32 h-32 flex flex-col justify-center items-center transition-transform transform hover:scale-110" data-magnetic><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/django/django-plain.svg" class="h-12 w-12" /><p class="mt-2 text-sm font-medium">Django</p></div>
                    <div class="text-center p-4 bg-gray-900 rounded-lg w-32 h-32 flex flex-col justify-center items-center transition-transform transform hover:scale-110" data-magnetic><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nodejs/nodejs-original.svg" class="h-12 w-12" /><p class="mt-2 text-sm font-medium">Node.js</p></div>
                    <div class="text-center p-4 bg-gray-900 rounded-lg w-32 h-32 flex flex-col justify-center items-center transition-transform transform hover:scale-110" data-magnetic><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/tailwindcss/tailwindcss-plain.svg" class="h-12 w-12" /><p class="mt-2 text-sm font-medium">Tailwind CSS</p></div>
                    <div class="text-center p-4 bg-gray-900 rounded-lg w-32 h-32 flex flex-col justify-center items-center transition-transform transform hover:scale-110" data-magnetic><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/tensorflow/tensorflow-original.svg" class="h-12 w-12" /><p class="mt-2 text-sm font-medium">TensorFlow</p></div>
                    <div class="text-center p-4 bg-gray-900 rounded-lg w-32 h-32 flex flex-col justify-center items-center transition-transform transform hover:scale-110" data-magnetic><img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/pytorch/pytorch-original.svg" class="h-12 w-12" /><p class="mt-2 text-sm font-medium">PyTorch</p></div>
                </div>
             </div>
        </section>

        <!-- Contact Section -->
        <section id="contact" class="py-20 my-20 scroll-animate">
            <h2 class="section-heading text-4xl font-bold mb-12 text-center">Get In Touch</h2>
            <div class="glass-card rounded-xl max-w-3xl mx-auto p-8 md:p-12">
                <p class="text-lg text-gray-300 mb-8 text-center">I'm available for freelance work and open to new opportunities. Fill out the form below or call me at 0748324656. Let's create something amazing!</p>
                <!-- IMPORTANT: Replace the action URL with your own from a service like Formspree! -->
                <form id="contact-form" action="https://formspree.io/f/xpwjlrpj" method="POST" class="space-y-6">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <input type="text" name="name" placeholder="Your Name" class="form-input w-full" required>
                        <input type="email" name="email" placeholder="Your Email" class="form-input w-full" required>
                    </div>
                    <div>
                        <textarea name="message" rows="5" placeholder="Your Message" class="form-input w-full" required></textarea>
                    </div>
                    <div class="text-center">
                        <button type="submit" class="inline-block text-lg px-10 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-all duration-300 transform hover:scale-105 shadow-lg" data-magnetic>Send Message</button>
                    </div>
                </form>
                <p id="form-status" class="mt-6 text-center text-lg"></p>
            </div>
        </section>
    </main>
    
    <!-- Footer -->
    <footer class="py-8 border-t border-gray-800">
        <div class="container mx-auto px-6 text-center text-gray-500">
            <p>&copy; <span id="copyright-year"></span> Kencalvin Mwenda. All Rights Reserved.</p>
        </div>
    </footer>

    <!-- Project Modal -->
    <div id="project-modal">
        <div id="modal-content" class="glass-card rounded-xl p-8 max-w-4xl w-11/12 max-h-[90vh] overflow-y-auto relative transform scale-95 transition-transform duration-300">
            <button id="modal-close-btn" class="absolute top-4 right-4 text-gray-400 hover:text-white" data-magnetic>
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            <img id="modal-image" src="" alt="Project Image" class="w-full h-64 object-cover rounded-lg mb-6">
            <h2 id="modal-title" class="text-3xl font-bold text-white mb-4"></h2>
            <div id="modal-tags" class="flex flex-wrap gap-2 mb-4"></div>
            <p id="modal-description" class="text-gray-300 mb-6"></p>
            <div class="flex gap-4">
                <a id="modal-live-link" href="#" target="_blank" class="inline-block px-6 py-2 bg-indigo-600 text-white font-semibold rounded-md hover:bg-indigo-700 transition-colors" data-magnetic>Live Site</a>
                <a id="modal-repo-link" href="#" target="_blank" class="inline-block px-6 py-2 bg-gray-700 text-white font-semibold rounded-md hover:bg-gray-600 transition-colors" data-magnetic>GitHub Repo</a>
            </div>
        </div>
    </div>

    <!-- Three.js -->
    <script type="importmap">
        { "imports": { "three": "https://cdn.jsdelivr.net/npm/three@0.138.0/build/three.module.js", "three/addons/": "https://cdn.jsdelivr.net/npm/three@0.138.0/examples/jsm/" } }
    </script>
    <script type="module">
        import * as THREE from 'three';
        import { EffectComposer } from 'three/addons/postprocessing/EffectComposer.js';
        import { RenderPass } from 'three/addons/postprocessing/RenderPass.js';
        import { UnrealBloomPass } from 'three/addons/postprocessing/UnrealBloomPass.js';
        import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        // --- 3D Scene Variables ---
        let scene, camera, renderer, composer, controls, mainObject;
        const mouse = new THREE.Vector2();

        /** Initializes the 3D scene */
        function initThreeJS() {
            scene = new THREE.Scene();
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.z = 5;

            const canvas = document.getElementById('bg-canvas');
            renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
            renderer.setClearColor(0x0a0a0a, 1);
            
            // Add lighting
            const pointLight = new THREE.PointLight(0x6366f1, 2, 100);
            pointLight.position.set(5, 5, 5);
            scene.add(pointLight);
            scene.add(new THREE.AmbientLight(0xffffff, 0.1));

            // Post-processing for Bloom Effect
            const renderScene = new RenderPass(scene, camera);
            const bloomPass = new UnrealBloomPass(new THREE.Vector2(window.innerWidth, window.innerHeight), 1.5, 0.4, 0.85);
            bloomPass.threshold = 0;
            bloomPass.strength = 1.0;
            bloomPass.radius = 0.5;

            composer = new EffectComposer(renderer);
            composer.addPass(renderScene);
            composer.addPass(bloomPass);

            // Create the main 3D object
            const geometry = new THREE.TorusKnotGeometry(1.5, 0.5, 100, 16);
            const material = new THREE.MeshStandardMaterial({ color: 0xffffff, wireframe: true });
            mainObject = new THREE.Mesh(geometry, material);
            scene.add(mainObject);

            // Controls for user interaction
            controls = new OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.enablePan = false;
            controls.enableZoom = false;

            window.addEventListener('resize', onWindowResize, false);
            animateThreeJS();
        }

        function onWindowResize() {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
            composer.setSize(window.innerWidth, window.innerHeight);
        }

        function animateThreeJS() {
            requestAnimationFrame(animateThreeJS);
            controls.update(); // Update controls
            mainObject.rotation.x += 0.001;
            mainObject.rotation.y += 0.001;
            composer.render();
        }
        
        // --- Page Interactivity Scripts ---
        
        /** Preloader Logic */
        window.addEventListener('load', () => {
            const preloader = document.getElementById('preloader');
            const mainContent = document.querySelector('main');
            gsap.to(preloader, { 
                opacity: 0, 
                duration: 0.8, 
                onComplete: () => preloader.classList.add('hidden') 
            });
            gsap.to(mainContent, { opacity: 1, duration: 1, delay: 0.5 });
        });

        document.getElementById('copyright-year').textContent = new Date().getFullYear();

        /** Custom Cursor Logic */
        // ... (cursor logic is unchanged, keeping for brevity)

        /** Magnetic Buttons Logic */
        // ... (magnetic button logic is unchanged, keeping for brevity)

        /** Mobile menu toggle */
        // ... (mobile menu logic is unchanged, keeping for brevity)

        /** Typing Effect */
        // ... (typing effect logic is unchanged, keeping for brevity)
        
        /** Scroll-Reveal Animations */
        // ... (scroll observer logic is unchanged, keeping for brevity)

        /** 3D Project Card Tilt Effect */
        // ... (project card tilt logic is unchanged, keeping for brevity)
        
        /** Project Modal Logic */
        const projectsData = {
            1: {
                title: "Full-Stack Asset Registry Platform",
                image: "https://placehold.co/800x400/111827/4f46e5?text=Asset+Dashboard",
                tags: ["PHP", "Laravel", "System Design", "Full-Stack Architecture", "REST API"],
                description: "This project is a personal, rebuilt version of a professional asset management system I developed. To respect confidentiality, I re-architected and generalized the concept from the ground up, using mock data to showcase the core functionalities. It features a complete CRUD interface for assets, user assignment tracking, status management, and a powerful search/filter system. The project demonstrates my ability to design and build a scalable, real-world business application.",
                liveLink: "#",
                repoLink: "#"
            },
            2: {
                title: "Cybersecurity Threat Dashboard",
                image: "https://placehold.co/800x400/111827/6366f1?text=Security+Dashboard",
                tags: ["Django", "Node.js", "D3.js"],
                description: "A real-time dashboard for visualizing cybersecurity threats. Built with a Django backend to process threat intelligence feeds and a Node.js server for real-time updates via WebSockets. The front-end uses D3.js for complex data visualizations.",
                liveLink: "#",
                repoLink: "#"
            },
            3: {
                title: "Serverless Web Application",
                image: "https://placehold.co/800x400/111827/818cf8?text=Serverless+App",
                tags: ["Node.js", "AWS Lambda", "React"],
                description: "A fully serverless web application for managing tasks. It leverages AWS Lambda for backend logic and API Gateway for routing, providing a scalable and cost-effective solution. The frontend was built with React and Tailwind CSS.",
                liveLink: "#",
                repoLink: "#"
            }
        };

        const modal = document.getElementById('project-modal');
        const modalContent = document.getElementById('modal-content');

        function openModal(projectId) {
            const data = projectsData[projectId];
            if (!data) return;

            document.getElementById('modal-image').src = data.image;
            document.getElementById('modal-title').textContent = data.title;
            document.getElementById('modal-description').textContent = data.description;
            document.getElementById('modal-live-link').href = data.liveLink;
            document.getElementById('modal-repo-link').href = data.repoLink;
            
            const tagsContainer = document.getElementById('modal-tags');
            tagsContainer.innerHTML = '';
            data.tags.forEach(tag => {
                const tagEl = document.createElement('span');
                tagEl.className = 'bg-indigo-900 text-indigo-300 text-xs font-medium px-2.5 py-1 rounded-full';
                tagEl.textContent = tag;
                tagsContainer.appendChild(tagEl);
            });

            modal.classList.add('visible');
            gsap.fromTo(modalContent, { scale: 0.9, opacity: 0 }, { scale: 1, opacity: 1, duration: 0.3, ease: 'power2.out' });
        }

        function closeModal() {
            gsap.to(modalContent, { scale: 0.9, opacity: 0, duration: 0.3, ease: 'power2.in', onComplete: () => {
                modal.classList.remove('visible');
            }});
        }
        
        document.querySelectorAll('.project-details-btn').forEach(btn => {
            btn.addEventListener('click', () => openModal(btn.dataset.projectId));
        });
        
        document.getElementById('modal-close-btn').addEventListener('click', closeModal);
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal(); // Close if clicking on the backdrop
        });
        
        /** Contact Form Logic */
        const form = document.getElementById('contact-form');
        const formStatus = document.getElementById('form-status');
        
        async function handleSubmit(event) {
            event.preventDefault();
            const data = new FormData(event.target);
            try {
                const response = await fetch(event.target.action, {
                    method: form.method,
                    body: data,
                    headers: { 'Accept': 'application/json' }
                });
                if (response.ok) {
                    formStatus.textContent = "Thanks for your submission!";
                    formStatus.style.color = '#34d399'; // Green
                    form.reset();
                } else {
                    const responseData = await response.json();
                    if (Object.hasOwn(responseData, 'errors')) {
                        formStatus.textContent = responseData["errors"].map(error => error["message"]).join(", ");
                    } else {
                        formStatus.textContent = "Oops! There was a problem submitting your form";
                    }
                    formStatus.style.color = '#f87171'; // Red
                }
            } catch (error) {
                formStatus.textContent = "Oops! There was a problem submitting your form";
                formStatus.style.color = '#f87171';
            }
        }
        form.addEventListener("submit", handleSubmit);

        // --- Initialize Everything ---
        initThreeJS();
        // The rest of the interactivity scripts are simple event listeners and will run automatically.
        // I am intentionally leaving the unchanged interactivity scripts collapsed for readability.
        // Full code is present in the file.
        const cursorDot = document.getElementById('cursor-dot');
        const cursorOutline = document.getElementById('cursor-outline');
        gsap.set(cursorDot, { xPercent: -50, yPercent: -50 });
        gsap.set(cursorOutline, { xPercent: -50, yPercent: -50 });

        window.addEventListener('mousemove', e => {
            gsap.to(cursorDot, { duration: 0.2, x: e.clientX, y: e.clientY });
            gsap.to(cursorOutline, { duration: 0.6, x: e.clientX, y: e.clientY, ease: "power2.out" });
        });
        
        const interactiveElements = document.querySelectorAll('a, button, [data-magnetic]');
        interactiveElements.forEach(el => {
            el.addEventListener('mouseenter', () => {
                gsap.to(cursorOutline, {
                    duration: 0.3, width: 60, height: 60,
                    backgroundColor: 'rgba(255, 255, 255, 0.3)',
                    borderColor: 'rgba(255, 255, 255, 0.1)'
                });
            });
            el.addEventListener('mouseleave', () => {
                gsap.to(cursorOutline, {
                    duration: 0.3, width: 40, height: 40,
                    backgroundColor: 'transparent', borderColor: 'white'
                });
            });
        });

        const magneticElements = document.querySelectorAll('[data-magnetic]');
        magneticElements.forEach(el => {
            el.addEventListener('mousemove', function(e) {
                const rect = el.getBoundingClientRect();
                const x = e.clientX - rect.left - rect.width / 2;
                const y = e.clientY - rect.top - rect.height / 2;
                gsap.to(el, { x: x * 0.3, y: y * 0.3, duration: 0.6, ease: "power2.out" });
            });
            el.addEventListener('mouseleave', function() {
                gsap.to(el, { x: 0, y: 0, duration: 0.6, ease: "elastic.out(1, 0.3)" });
            });
        });

        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        mobileMenuButton.addEventListener('click', () => {
            mobileMenu.classList.toggle('hidden');
        });

        const subtitleText = "Full-Stack Developer | AI Advocate | Cybersecurity Enthusiast";
        const subtitleElement = document.getElementById('hero-subtitle');
        let charIndex = 0;
        function type() {
            if (charIndex < subtitleText.length) {
                subtitleElement.textContent += subtitleText.charAt(charIndex);
                charIndex++;
                setTimeout(type, 75);
            } else {
                const cursor = document.createElement('span');
                cursor.className = 'typing-cursor';
                subtitleElement.appendChild(cursor);
            }
        }
        setTimeout(type, 1000);

        const scrollObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    scrollObserver.unobserve(entry.target);
                }
            });
        }, { threshold: 0.1 });
        document.querySelectorAll('.scroll-animate').forEach(el => scrollObserver.observe(el));

        const projectCards = document.querySelectorAll('.project-card');
        projectCards.forEach(card => {
            card.addEventListener('mousemove', (e) => {
                if (!e.target.closest('[data-magnetic]')) {
                    const rect = card.getBoundingClientRect();
                    const x = e.clientX - rect.left - rect.width / 2;
                    const y = e.clientY - rect.top - rect.height / 2;
                    gsap.to(card, { rotationX: -y / 25, rotationY: x / 25, scale: 1.05, duration: 0.8, ease: "power2.out" });
                }
            });
            card.addEventListener('mouseleave', () => {
                gsap.to(card, { rotationX: 0, rotationY: 0, scale: 1, duration: 0.8, ease: "elastic.out(1, 0.3)" });
            });
        });

    </script>
</body>
</html>



